spring:
  application:
    name: zuul-provider
server:
  port: 9096

eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:8763/eureka/,http://localhost:8762/eureka/,http://localhost:8761/eureka/
#这个的意思是，配置在erueka里面叫erueka-provider的服务。
#只要是api开头的url都会被转发到指定的服务上面
#如果path配置成'/**/api/**'的话，会跳转，不过所有的url都会映射到后端
#如果path配置成'/api/**'的话，会跳转，并且忽略掉'/api'部分
zuul:
  routes:
    erueka-provider-inner:
      path: /inner/**
    erueka-provider-outside:
      path: /outside/**
  # 指定路由关闭重试机制
  #zuul.routes.<route>.retryable=false
  # 全局关闭重试机制
  retryable: false
  add-host-header: true #设置为true重定向是会添加host请求头
  sensitive-headers: Cookie,Set-Cookie,Authorization #配置过滤敏感的请求头信息，设置为空就不会过滤

  #这里禁用SendErrorFilter ，不然即使有全局的errorFilter，返回结果也会被覆盖
  SendErrorFilter:
    error:
      disable: true


#hystrix的全局超时时间，有可能是服务挂掉、出错或者超时，会走全局的FallbackProvider，
hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 1000 #配置HystrixCommand执行的超时时间，执行超过该时间会进行服务降级处理

#Ribbon的配置来设置路由转发时请求连接及处理的超时时间，这里是上面的路由没问题， 可以找到服务，然后去调用服务后
#这里如果服务处理时间长，然后超时，会走到errorfilter处理
ribbon: #全局配置
  ConnectTimeout: 4000 #服务请求连接超时时间（毫秒）
  ReadTimeout: 4000 #服务请求处理超时时间（毫秒）



